/* ID CARD SECTION */
#id-card-section{
    display:flex; justify-content:center; align-items:center;
    min-height: 55vh; /* was 80vh – tighter */
    perspective: 1200px;
    margin-top: -10px; /* pull it up slightly */
}

.id-card{
    margin-top: -40px;   /* was -80px */
    width: 300px; height: 400px;
    border-radius: 20px;
    box-shadow: 10px 10px 20px rgba(0,0,0,0.5);
    text-align:center;
    transform-style: preserve-3d;
    transition: transform 0.2s ease-out;
    animation: float 3s ease-in-out infinite alternate;
}

/* disable selection */
.id-card, .id-card *{ user-select:none; -webkit-user-select:none; -moz-user-select:none; -ms-user-select:none; }

.card-inner{ position:relative; width:100%; height:100%; transform-style: preserve-3d; transition: transform 0.1s; }

.card-front, .card-back{
    position:absolute; inset:0; width:100%; height:100%;
    background: url('./assets/CardImages/card-texture.png') no-repeat center/cover;
    border-radius:20px; backface-visibility:hidden; transform-style:preserve-3d;
    display:flex; flex-direction:column; justify-content:center; align-items:center;
    box-shadow: 5px 5px 15px rgba(255,255,255,0.2);
}

.character-container{ position:relative; width:100%; transform-style:preserve-3d; margin-bottom: 8px; }

/* Inner backdrop behind the tree, above the card texture */
.scene-backdrop{
  position:absolute;
  inset: 18px 18px 56px 18px;   /* leave space for title at bottom */
  border-radius: 18px;
  background:
    radial-gradient(120% 120% at 30% 20%, rgba(255,255,255,0.05), transparent 60%),
    linear-gradient(180deg, rgba(22,24,28,0.92), rgba(18,19,23,0.96));
  box-shadow:
    0 14px 34px rgba(0,0,0,0.45),
    inset 0 1px 0 rgba(255,255,255,0.06),
    inset 0 -1px 0 rgba(0,0,0,0.35);
  z-index: 1;                   /* below .character-layer (z:2), above card texture */
  transform: translateZ(10px);
}

/* Light/Cozy variant — only when cozy *light* is active */
body.theme-cozy-light .scene-backdrop{
  background:
    radial-gradient(120% 120% at 28% 18%, rgba(154,209,212,0.15), transparent 60%),
    linear-gradient(180deg, rgba(255,255,255,0.86), rgba(255,255,255,0.78));
  box-shadow:
    0 18px 36px rgba(27,19,28,0.22),
    inset 0 1px 0 rgba(255,255,255,0.35),
    inset 0 -1px 0 rgba(0,0,0,0.06);
}

/* Cozy *dark* gets a foggy, dark well */
body.theme-cozy-dark .scene-backdrop{
  background:
    radial-gradient(120% 120% at 30% 20%, rgba(255,255,255,0.05), transparent 60%),
    linear-gradient(180deg, rgba(22,24,28,0.92), rgba(18,19,23,0.96));
  box-shadow:
    0 14px 34px rgba(0,0,0,0.45),
    inset 0 1px 0 rgba(255,255,255,0.06),
    inset 0 -1px 0 rgba(0,0,0,0.35);
}

.card-back{ transform: rotateY(180deg); }
.id-card.flipped .card-inner{ transform: rotateY(180deg); animation: float 20s ease-in-out infinite; }

.character-layer{ position:relative; z-index:2; transform: translateZ(15px); backface-visibility:hidden; display:grid; place-items:center; }
.pixel-avatar{ max-width: 84%; max-height: 78%; width:auto; height:auto; object-fit:contain; image-rendering:pixelated; border-radius:10px; box-shadow: 5px 5px 10px rgba(255,255,255,0.2); }

.front-letters{ position:relative; z-index:2; transform: translateZ(20px); backface-visibility:hidden; }

.front-layer{ position:absolute; inset:0; z-index:2; transform: translateZ(25px); backface-visibility:hidden; }
.front-layer1{ position:absolute; inset:0; width:100%; height:100%; object-fit:cover; }

.info{ width:100%; text-align:center; z-index:1; }

.back-letters{ position:relative; z-index:2; transform: translateZ(20px); backface-visibility:hidden; }
.card-back{ position:relative; }
.back-layer{ position:absolute; inset:0; z-index:2; transform: translateZ(10px); backface-visibility:hidden; }
.back-layer1{ position:absolute; inset:0; width:100%; height:100%; object-fit:cover; }

@keyframes float{
    0% { transform: translateY(1px) rotateY(10deg) rotateX(0deg); }
    50%{ transform: translateY(-8px) rotateY(10deg) rotateX(1deg); }
    100%{ transform: translateY(1px) rotateY(2deg) rotateX(0deg); }
}

/* rotate hint */
.rotate-hint{
    position:absolute; top:10px; left:50%; transform:translateX(-50%);
    text-align:center; font-size:13px; color:rgba(255,255,255,0.9);
    opacity:0; animation: hintFadeInOut 6s ease-in-out infinite; pointer-events:none;
}
.rotate-hint .arrow{ display:block; font-size:22px; margin-bottom:3px; animation: arrowBounce 2s ease-in-out infinite; }
@keyframes hintFadeInOut{ 0%,20%,80%,100%{opacity:0;} 40%,60%{opacity:1;} }
@keyframes arrowBounce{ 0%{transform:translateY(0);} 50%{transform:translateY(-5px);} 100%{transform:translateY(0);} }
